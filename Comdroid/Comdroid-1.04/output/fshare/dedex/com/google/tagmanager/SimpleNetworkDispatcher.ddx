.class com/google/tagmanager/SimpleNetworkDispatcher
.super java/lang/Object
.source SimpleNetworkDispatcher.java
.implements com/google/tagmanager/Dispatcher

.inner class DispatchListener inner com/google/tagmanager/SimpleNetworkDispatcher$DispatchListener outer com/google/tagmanager/SimpleNetworkDispatcher
.field private static final USER_AGENT_TEMPLATE Ljava/lang/String; = "%s/%s (Linux; U; Android %s; %s; %s Build/%s)"
.field private final ctx Landroid/content/Context;
.field private dispatchListener Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;
.field private final httpClient Lorg/apache/http/client/HttpClient;
.field private final userAgent Ljava/lang/String;

.method <init>(Lorg/apache/http/client/HttpClient;Landroid/content/Context;Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;)V
.annotation buildVisibility Lcom/google/android/gms/common/util/VisibleForTesting;
.end annotation
.limit registers 11
; this: v7 (Lcom/google/tagmanager/SimpleNetworkDispatcher;)
; parameter[0] : v8 (Lorg/apache/http/client/HttpClient;)
; parameter[1] : v9 (Landroid/content/Context;)
; parameter[2] : v10 (Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;)
.line 60
	invoke-direct	{v7},java/lang/Object/<init>	; <init>()V
; v7 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
.line 61
	invoke-virtual	{v9},android/content/Context/getApplicationContext	; getApplicationContext()Landroid/content/Context;
; v9 : Landroid/content/Context;
	move-result-object	v0
; v0 : Landroid/content/Context;
	iput-object	v0,v7,com/google/tagmanager/SimpleNetworkDispatcher.ctx Landroid/content/Context;
; v0 : Landroid/content/Context; , v7 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
.line 62
	const-string	v1,"GoogleTagManager"
; v1 : Ljava/lang/String;
	const-string	v2,"3.02"
; v2 : Ljava/lang/String;
	sget-object	v3,android/os/Build$VERSION.RELEASE Ljava/lang/String;
; v3 : Ljava/lang/String;
	invoke-static	{},java/util/Locale/getDefault	; getDefault()Ljava/util/Locale;
; 
	nop	
	move-result-object	v0
; v0 : Ljava/util/Locale;
	invoke-static	{v0},com/google/tagmanager/SimpleNetworkDispatcher/getUserAgentLanguage	; getUserAgentLanguage(Ljava/util/Locale;)Ljava/lang/String;
; v0 : Ljava/util/Locale;
	move-result-object	v4
; v4 : Ljava/lang/String;
	sget-object	v5,android/os/Build.MODEL Ljava/lang/String;
; v5 : Ljava/lang/String;
	sget-object	v6,android/os/Build.ID Ljava/lang/String;
; v6 : Ljava/lang/String;
	move-object	v0,v7
; v0 : Lcom/google/tagmanager/SimpleNetworkDispatcher; , v7 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-virtual/range	{v0..v6},com/google/tagmanager/SimpleNetworkDispatcher/createUserAgentString;	createUserAgentString(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
; v0 : Lcom/google/tagmanager/SimpleNetworkDispatcher; , v1 : Ljava/lang/String; , v2 : Ljava/lang/String; , v3 : Ljava/lang/String; , v4 : Ljava/lang/String; , v5 : Ljava/lang/String; , v6 : Ljava/lang/String;
	move-result-object	v0
; v0 : Ljava/lang/String;
	iput-object	v0,v7,com/google/tagmanager/SimpleNetworkDispatcher.userAgent Ljava/lang/String;
; v0 : Ljava/lang/String; , v7 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
.line 70
	iput-object	v8,v7,com/google/tagmanager/SimpleNetworkDispatcher.httpClient Lorg/apache/http/client/HttpClient;
; v8 : Lorg/apache/http/client/HttpClient; , v7 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
.line 71
	iput-object	v10,v7,com/google/tagmanager/SimpleNetworkDispatcher.dispatchListener Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;
; v10 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v7 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
.line 72
	return-void	
.end method

.method private constructGtmRequest(Ljava/net/URL;)Lorg/apache/http/HttpEntityEnclosingRequest;
.limit registers 7
; this: v5 (Lcom/google/tagmanager/SimpleNetworkDispatcher;)
; parameter[0] : v6 (Ljava/net/URL;)
.catch java/net/URISyntaxException from led22c to led23a using led28c
.catch java/net/URISyntaxException from led20e to led22c using led23e
.var 1 is request Lorg/apache/http/HttpEntityEnclosingRequest; from led20e to led22c
.var 2 is request Lorg/apache/http/HttpEntityEnclosingRequest; from led22c to led23c
.var 0 is e Ljava/net/URISyntaxException; from led240 to led28c
.var 1 is request Lorg/apache/http/HttpEntityEnclosingRequest; from led23c to led28c
.var 2 is request Lorg/apache/http/HttpEntityEnclosingRequest; from led28c to led290
.line 160
	const/4	v1,0
; v1 : single-length
led20e:
.line 162
	new-instance	v2,org/apache/http/message/BasicHttpEntityEnclosingRequest
; v2 : Lorg/apache/http/message/BasicHttpEntityEnclosingRequest;
	const-string	v3,"GET"
; v3 : Ljava/lang/String;
	invoke-virtual	{v6},java/net/URL/toURI	; toURI()Ljava/net/URI;
; v6 : Ljava/net/URL;
	move-result-object	v4
; v4 : Ljava/net/URI;
	invoke-virtual	{v4},java/net/URI/toString	; toString()Ljava/lang/String;
; v4 : Ljava/net/URI;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-direct	{v2,v3,v4},org/apache/http/message/BasicHttpEntityEnclosingRequest/<init>	; <init>(Ljava/lang/String;Ljava/lang/String;)V
; v2 : Lorg/apache/http/message/BasicHttpEntityEnclosingRequest; , v3 : Ljava/lang/String; , v4 : Ljava/lang/String;
led22c:
.line 163
	const-string	v3,"User-Agent"
; v3 : Ljava/lang/String;
	iget-object	v4,v5,com/google/tagmanager/SimpleNetworkDispatcher.userAgent Ljava/lang/String;
; v4 : Ljava/lang/String; , v5 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v2,v3,v4},org/apache/http/HttpEntityEnclosingRequest/addHeader	; addHeader(Ljava/lang/String;Ljava/lang/String;)V
; v2 : Lorg/apache/http/message/BasicHttpEntityEnclosingRequest; , v3 : Ljava/lang/String; , v4 : Ljava/lang/String;
led23a:
	move-object	v1,v2
; v1 : Lorg/apache/http/message/BasicHttpEntityEnclosingRequest; , v2 : Lorg/apache/http/message/BasicHttpEntityEnclosingRequest;
led23c:
.line 168
	return-object	v1
; v1 : Lorg/apache/http/message/BasicHttpEntityEnclosingRequest;
led23e:
.line 164
	move-exception	v0
; v0 : java/net/URISyntaxException
led240:
.line 165
	new-instance	v3,java/lang/StringBuilder
; v3 : Ljava/lang/StringBuilder;
	invoke-direct	{v3},java/lang/StringBuilder/<init>	; <init>()V
; v3 : Ljava/lang/StringBuilder;
	const-string	v4,"Exception sending hit: "
; v4 : Ljava/lang/String;
	invoke-virtual	{v3,v4},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v3 : Ljava/lang/StringBuilder; , v4 : Ljava/lang/String;
	move-result-object	v3
; v3 : Ljava/lang/StringBuilder;
	invoke-virtual	{v0},java/lang/Object/getClass	; getClass()Ljava/lang/Class;
; v0 : java/net/URISyntaxException
	move-result-object	v4
; v4 : Ljava/lang/Class;
	invoke-virtual	{v4},java/lang/Class/getSimpleName	; getSimpleName()Ljava/lang/String;
; v4 : Ljava/lang/Class;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-virtual	{v3,v4},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v3 : Ljava/lang/StringBuilder; , v4 : Ljava/lang/String;
	move-result-object	v3
; v3 : Ljava/lang/StringBuilder;
	invoke-virtual	{v3},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v3 : Ljava/lang/StringBuilder;
	move-result-object	v3
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v3 : Ljava/lang/String;
.line 166
	invoke-virtual	{v0},java/net/URISyntaxException/getMessage	; getMessage()Ljava/lang/String;
; v0 : java/net/URISyntaxException
	move-result-object	v3
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v3 : Ljava/lang/String;
	goto	led23c
led28c:
.line 164
	move-exception	v0
; v0 : java/net/URISyntaxException
	move-object	v1,v2
; v1 : Lorg/apache/http/message/BasicHttpEntityEnclosingRequest; , v2 : Lorg/apache/http/message/BasicHttpEntityEnclosingRequest;
led290:
	goto	led240
.end method

.method static getUserAgentLanguage(Ljava/util/Locale;)Ljava/lang/String;
.limit registers 4
; parameter[0] : v3 (Ljava/util/Locale;)
	const/4	v1,0
; v1 : single-length
.line 219
	if-nez	v3,led2c8
; v3 : Ljava/util/Locale;
led2c6:
.line 230
	return-object	v1
; v1 : Ljava/lang/String;
led2c8:
.line 222
	invoke-virtual	{v3},java/util/Locale/getLanguage	; getLanguage()Ljava/lang/String;
; v3 : Ljava/util/Locale;
	move-result-object	v2
; v2 : Ljava/lang/String;
	if-eqz	v2,led2c6
; v2 : Ljava/lang/String;
	invoke-virtual	{v3},java/util/Locale/getLanguage	; getLanguage()Ljava/lang/String;
; v3 : Ljava/util/Locale;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v2},java/lang/String/length	; length()I
; v2 : Ljava/lang/String;
	move-result	v2
; v2 : single-length
	if-eqz	v2,led2c6
; v2 : single-length
.line 225
	new-instance	v0,java/lang/StringBuilder
; v0 : Ljava/lang/StringBuilder;
	invoke-direct	{v0},java/lang/StringBuilder/<init>	; <init>()V
; v0 : Ljava/lang/StringBuilder;
.line 226
	invoke-virtual	{v3},java/util/Locale/getLanguage	; getLanguage()Ljava/lang/String;
; v3 : Ljava/util/Locale;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-virtual	{v1},java/lang/String/toLowerCase	; toLowerCase()Ljava/lang/String;
; v1 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
.line 227
	invoke-virtual	{v3},java/util/Locale/getCountry	; getCountry()Ljava/lang/String;
; v3 : Ljava/util/Locale;
	move-result-object	v1
; v1 : Ljava/lang/String;
	if-eqz	v1,led34a
; v1 : Ljava/lang/String;
	invoke-virtual	{v3},java/util/Locale/getCountry	; getCountry()Ljava/lang/String;
; v3 : Ljava/util/Locale;
	move-result-object	v1
; v1 : Ljava/lang/String;
	invoke-virtual	{v1},java/lang/String/length	; length()I
; v1 : Ljava/lang/String;
	move-result	v1
; v1 : single-length
	if-eqz	v1,led34a
; v1 : single-length
.line 228
	const-string	v1,"-"
; v1 : Ljava/lang/String;
	invoke-virtual	{v0,v1},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v0 : Ljava/lang/StringBuilder; , v1 : Ljava/lang/String;
	move-result-object	v1
; v1 : Ljava/lang/StringBuilder;
	invoke-virtual	{v3},java/util/Locale/getCountry	; getCountry()Ljava/lang/String;
; v3 : Ljava/util/Locale;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v2},java/lang/String/toLowerCase	; toLowerCase()Ljava/lang/String;
; v2 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/String;
	invoke-virtual	{v1,v2},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v1 : Ljava/lang/StringBuilder; , v2 : Ljava/lang/String;
led34a:
.line 230
	invoke-virtual	{v0},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v0 : Ljava/lang/StringBuilder;
	move-result-object	v1
; v1 : Ljava/lang/String;
	goto	led2c6
.end method

.method private logDebugInformation(Lorg/apache/http/HttpEntityEnclosingRequest;)V
.limit registers 13
; this: v11 (Lcom/google/tagmanager/SimpleNetworkDispatcher;)
; parameter[0] : v12 (Lorg/apache/http/HttpEntityEnclosingRequest;)
.catch java/io/IOException from led3d0 to led420 using led430
.var 4 is header Lorg/apache/http/Header; from led382 to led3a2
.var 1 is avail I from led3ec to led420
.var 2 is b [B from led3f4 to led420
.var 7 is is Ljava/io/InputStream; from led3e0 to led420
.line 176
	new-instance	v5,java/lang/StringBuffer
; v5 : Ljava/lang/StringBuffer;
	invoke-direct	{v5},java/lang/StringBuffer/<init>	; <init>()V
; v5 : Ljava/lang/StringBuffer;
.line 177
	invoke-interface	{v12},org/apache/http/HttpEntityEnclosingRequest/getAllHeaders	; getAllHeaders()[Lorg/apache/http/Header;
; v12 : Lorg/apache/http/HttpEntityEnclosingRequest;
	move-result-object	v0
; v0 : [Lorg/apache/http/Header;
	array-length	v8,v0
; v8 : single-length , v0 : [Lorg/apache/http/Header;
	const/4	v6,0
; v6 : single-length
led37a:
	if-ge	v6,v8,led3a2
; v6 : single-length , v8 : single-length
	aget-object	v4,v0,v6
; v4 : Lorg/apache/http/Header; , v0 : [Lorg/apache/http/Header; , v6 : single-length
.line 178
	invoke-virtual	{v4},java/lang/Object/toString	; toString()Ljava/lang/String;
; v4 : Lorg/apache/http/Header;
	move-result-object	v9
; v9 : Ljava/lang/String;
	invoke-virtual	{v5,v9},java/lang/StringBuffer/append	; append(Ljava/lang/String;)Ljava/lang/StringBuffer;
; v5 : Ljava/lang/StringBuffer; , v9 : Ljava/lang/String;
	move-result-object	v9
; v9 : Ljava/lang/StringBuffer;
	const-string	v10,"
"
; v10 : Ljava/lang/String;
	invoke-virtual	{v9,v10},java/lang/StringBuffer/append	; append(Ljava/lang/String;)Ljava/lang/StringBuffer;
; v9 : Ljava/lang/StringBuffer; , v10 : Ljava/lang/String;
.line 177
	add-int/lit8	v6,v6,1
; v6 : single-length , v6 : single-length
	goto	led37a
led3a2:
.line 180
	invoke-interface	{v12},org/apache/http/HttpEntityEnclosingRequest/getRequestLine	; getRequestLine()Lorg/apache/http/RequestLine;
; v12 : Lorg/apache/http/HttpEntityEnclosingRequest;
	move-result-object	v9
; v9 : Lorg/apache/http/RequestLine;
	invoke-virtual	{v9},java/lang/Object/toString	; toString()Ljava/lang/String;
; v9 : Lorg/apache/http/RequestLine;
	move-result-object	v9
; v9 : Ljava/lang/String;
	invoke-virtual	{v5,v9},java/lang/StringBuffer/append	; append(Ljava/lang/String;)Ljava/lang/StringBuffer;
; v5 : Ljava/lang/StringBuffer; , v9 : Ljava/lang/String;
	move-result-object	v9
; v9 : Ljava/lang/StringBuffer;
	const-string	v10,"
"
; v10 : Ljava/lang/String;
	invoke-virtual	{v9,v10},java/lang/StringBuffer/append	; append(Ljava/lang/String;)Ljava/lang/StringBuffer;
; v9 : Ljava/lang/StringBuffer; , v10 : Ljava/lang/String;
.line 181
	invoke-interface	{v12},org/apache/http/HttpEntityEnclosingRequest/getEntity	; getEntity()Lorg/apache/http/HttpEntity;
; v12 : Lorg/apache/http/HttpEntityEnclosingRequest;
	move-result-object	v9
; v9 : Lorg/apache/http/HttpEntity;
	if-eqz	v9,led420
; v9 : Lorg/apache/http/HttpEntity;
led3d0:
.line 183
	invoke-interface	{v12},org/apache/http/HttpEntityEnclosingRequest/getEntity	; getEntity()Lorg/apache/http/HttpEntity;
; v12 : Lorg/apache/http/HttpEntityEnclosingRequest;
	move-result-object	v9
; v9 : Lorg/apache/http/HttpEntity;
	invoke-interface	{v9},org/apache/http/HttpEntity/getContent	; getContent()Ljava/io/InputStream;
; v9 : Lorg/apache/http/HttpEntity;
	move-result-object	v7
; v7 : Ljava/io/InputStream;
.line 184
	if-eqz	v7,led420
; v7 : Ljava/io/InputStream;
.line 185
	invoke-virtual	{v7},java/io/InputStream/available	; available()I
; v7 : Ljava/io/InputStream;
	move-result	v1
; v1 : single-length
.line 186
	if-lez	v1,led420
; v1 : single-length
.line 187
	new-array	v2,v1,[B
; v2 : [B , v1 : single-length
.line 188
	invoke-virtual	{v7,v2},java/io/InputStream/read	; read([B)I
; v7 : Ljava/io/InputStream; , v2 : [B
.line 189
	const-string	v9,"POST:
"
; v9 : Ljava/lang/String;
	invoke-virtual	{v5,v9},java/lang/StringBuffer/append	; append(Ljava/lang/String;)Ljava/lang/StringBuffer;
; v5 : Ljava/lang/StringBuffer; , v9 : Ljava/lang/String;
.line 190
	new-instance	v9,java/lang/String
; v9 : Ljava/lang/String;
	invoke-direct	{v9,v2},java/lang/String/<init>	; <init>([B)V
; v9 : Ljava/lang/String; , v2 : [B
	invoke-virtual	{v5,v9},java/lang/StringBuffer/append	; append(Ljava/lang/String;)Ljava/lang/StringBuffer;
; v5 : Ljava/lang/StringBuffer; , v9 : Ljava/lang/String;
	move-result-object	v9
; v9 : Ljava/lang/StringBuffer;
	const-string	v10,"
"
; v10 : Ljava/lang/String;
	invoke-virtual	{v9,v10},java/lang/StringBuffer/append	; append(Ljava/lang/String;)Ljava/lang/StringBuffer;
; v9 : Ljava/lang/StringBuffer; , v10 : Ljava/lang/String;
led420:
.line 197
	invoke-virtual	{v5},java/lang/StringBuffer/toString	; toString()Ljava/lang/String;
; v5 : Ljava/lang/StringBuffer;
	move-result-object	v9
; v9 : Ljava/lang/String;
	invoke-static	{v9},com/google/tagmanager/Log/v	; v(Ljava/lang/String;)V
; v9 : Ljava/lang/String;
.line 198
	return-void	
led430:
.line 193
	move-exception	v3
; v3 : java/io/IOException
.line 194
	const-string	v9,"Error Writing hit to log..."
; v9 : Ljava/lang/String;
	invoke-static	{v9},com/google/tagmanager/Log/v	; v(Ljava/lang/String;)V
; v9 : Ljava/lang/String;
	goto	led420
.end method

.method public close()V
.limit registers 2
; this: v1 (Lcom/google/tagmanager/SimpleNetworkDispatcher;)
.line 151
	iget-object	v0,v1,com/google/tagmanager/SimpleNetworkDispatcher.httpClient Lorg/apache/http/client/HttpClient;
; v0 : Lorg/apache/http/client/HttpClient; , v1 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v0},org/apache/http/client/HttpClient/getConnectionManager	; getConnectionManager()Lorg/apache/http/conn/ClientConnectionManager;
; v0 : Lorg/apache/http/client/HttpClient;
	move-result-object	v0
; v0 : Lorg/apache/http/conn/ClientConnectionManager;
	invoke-interface	{v0},org/apache/http/conn/ClientConnectionManager/shutdown	; shutdown()V
; v0 : Lorg/apache/http/conn/ClientConnectionManager;
.line 152
	return-void	
.end method

.method createUserAgentString(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
.limit registers 10
; this: v3 (Lcom/google/tagmanager/SimpleNetworkDispatcher;)
; parameter[0] : v4 (Ljava/lang/String;)
; parameter[1] : v5 (Ljava/lang/String;)
; parameter[2] : v6 (Ljava/lang/String;)
; parameter[3] : v7 (Ljava/lang/String;)
; parameter[4] : v8 (Ljava/lang/String;)
; parameter[5] : v9 (Ljava/lang/String;)
.line 207
	const-string	v0,"%s/%s (Linux; U; Android %s; %s; %s Build/%s)"
; v0 : Ljava/lang/String;
	const/4	v1,6
; v1 : single-length
	new-array	v1,v1,[Ljava/lang/Object;
; v1 : [Ljava/lang/Object; , v1 : [Ljava/lang/Object;
	const/4	v2,0
; v2 : single-length
	aput-object	v4,v1,v2
; v4 : Ljava/lang/String; , v1 : [Ljava/lang/Object; , v2 : single-length
	const/4	v2,1
; v2 : single-length
	aput-object	v5,v1,v2
; v5 : Ljava/lang/String; , v1 : [Ljava/lang/Object; , v2 : single-length
	const/4	v2,2
; v2 : single-length
	aput-object	v6,v1,v2
; v6 : Ljava/lang/String; , v1 : [Ljava/lang/Object; , v2 : single-length
	const/4	v2,3
; v2 : single-length
	aput-object	v7,v1,v2
; v7 : Ljava/lang/String; , v1 : [Ljava/lang/Object; , v2 : single-length
	const/4	v2,4
; v2 : single-length
	aput-object	v8,v1,v2
; v8 : Ljava/lang/String; , v1 : [Ljava/lang/Object; , v2 : single-length
	const/4	v2,5
; v2 : single-length
	aput-object	v9,v1,v2
; v9 : Ljava/lang/String; , v1 : [Ljava/lang/Object; , v2 : single-length
	invoke-static	{v0,v1},java/lang/String/format	; format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
; v0 : Ljava/lang/String; , v1 : [Ljava/lang/Object;
	move-result-object	v0
; v0 : Ljava/lang/String;
	return-object	v0
; v0 : Ljava/lang/String;
.end method

.method public dispatchHits(Ljava/util/List;)V
.annotation systemVisibility Ldalvik/annotation/Signature;
    value [Ljava/lang/String; = { "(" , "Ljava/util/List" , "<" , "Lcom/google/tagmanager/Hit;" , ">;)V" }
.end annotation
.limit registers 16
; this: v14 (Lcom/google/tagmanager/SimpleNetworkDispatcher;)
; parameter[0] : v15 (Ljava/util/List;)
.catch org/apache/http/client/ClientProtocolException from led612 to led61c using led5fa
.catch java/io/IOException from led612 to led61c using led620
.catch org/apache/http/client/ClientProtocolException from led570 to led5f8 using led5fa
.catch java/io/IOException from led570 to led5f8 using led620
.var 1 is entity Lorg/apache/http/HttpEntity; from led5a0 to led5fa
.var 7 is response Lorg/apache/http/HttpResponse; from led588 to led5fa
.var 8 is statusCode I from led598 to led5fa
.var 0 is e Lorg/apache/http/client/ClientProtocolException; from led5fc to led612
.var 1 is entity Lorg/apache/http/HttpEntity; from led612 to led620
.var 7 is response Lorg/apache/http/HttpResponse; from led612 to led620
.var 8 is statusCode I from led612 to led620
.var 0 is e Ljava/io/IOException; from led622 to led67a
.var 3 is hit Lcom/google/tagmanager/Hit; from led4f4 to led67a
.var 6 is request Lorg/apache/http/HttpEntityEnclosingRequest; from led522 to led67a
.var 9 is targetHost Lorg/apache/http/HttpHost; from led554 to led67a
.var 10 is url Ljava/net/URL; from led4fc to led67a
.line 92
	invoke-interface	{v15},java/util/List/size	; size()I
; v15 : Ljava/util/List;
	move-result	v11
; v11 : single-length
	const/16	v12,40
; v12 : single-length
	invoke-static	{v11,v12},java/lang/Math/min	; min(II)I
; v11 : single-length , v12 : single-length
	move-result	v5
; v5 : single-length
.line 93
	const/4	v2,1
; v2 : single-length
.line 94
	const/4	v4,0
; v4 : single-length
led4e4:
	if-ge	v4,v5,led67a
; v4 : single-length , v5 : single-length
.line 95
	invoke-interface	{v15,v4},java/util/List/get	; get(I)Ljava/lang/Object;
; v15 : Ljava/util/List; , v4 : single-length
	move-result-object	v3
; v3 : Ljava/lang/Object;
	check-cast	v3,com/google/tagmanager/Hit
; v3 : Lcom/google/tagmanager/Hit;
.line 96
	invoke-virtual	{v14,v3},com/google/tagmanager/SimpleNetworkDispatcher/getUrl	; getUrl(Lcom/google/tagmanager/Hit;)Ljava/net/URL;
; v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher; , v3 : Lcom/google/tagmanager/Hit;
	move-result-object	v10
; v10 : Ljava/net/URL;
.line 98
	if-nez	v10,led51a
; v10 : Ljava/net/URL;
.line 99
	const-string	v11,"No destination: discarding hit."
; v11 : Ljava/lang/String;
	invoke-static	{v11},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v11 : Ljava/lang/String;
.line 101
	iget-object	v11,v14,com/google/tagmanager/SimpleNetworkDispatcher.dispatchListener Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v11,v3},com/google/tagmanager/SimpleNetworkDispatcher$DispatchListener/onHitPermanentDispatchFailure	; onHitPermanentDispatchFailure(Lcom/google/tagmanager/Hit;)V
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v3 : Lcom/google/tagmanager/Hit;
led514:
.line 94
	add-int/lit8	v4,v4,1
; v4 : single-length , v4 : single-length
	goto	led4e4
led51a:
.line 105
	invoke-direct	{v14,v10},com/google/tagmanager/SimpleNetworkDispatcher/constructGtmRequest	; constructGtmRequest(Ljava/net/URL;)Lorg/apache/http/HttpEntityEnclosingRequest;
; v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher; , v10 : Ljava/net/URL;
	move-result-object	v6
; v6 : Lorg/apache/http/HttpEntityEnclosingRequest;
.line 107
	if-nez	v6,led532
; v6 : Lorg/apache/http/HttpEntityEnclosingRequest;
.line 108
	iget-object	v11,v14,com/google/tagmanager/SimpleNetworkDispatcher.dispatchListener Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v11,v3},com/google/tagmanager/SimpleNetworkDispatcher$DispatchListener/onHitPermanentDispatchFailure	; onHitPermanentDispatchFailure(Lcom/google/tagmanager/Hit;)V
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v3 : Lcom/google/tagmanager/Hit;
	goto	led514
led532:
.line 112
	new-instance	v9,org/apache/http/HttpHost
; v9 : Lorg/apache/http/HttpHost;
	invoke-virtual	{v10},java/net/URL/getHost	; getHost()Ljava/lang/String;
; v10 : Ljava/net/URL;
	move-result-object	v11
; v11 : Ljava/lang/String;
	invoke-virtual	{v10},java/net/URL/getPort	; getPort()I
; v10 : Ljava/net/URL;
	move-result	v12
; v12 : single-length
	invoke-virtual	{v10},java/net/URL/getProtocol	; getProtocol()Ljava/lang/String;
; v10 : Ljava/net/URL;
	move-result-object	v13
; v13 : Ljava/lang/String;
	invoke-direct	{v9,v11,v12,v13},org/apache/http/HttpHost/<init>	; <init>(Ljava/lang/String;ILjava/lang/String;)V
; v9 : Lorg/apache/http/HttpHost; , v11 : Ljava/lang/String; , v12 : single-length , v13 : Ljava/lang/String;
.line 114
	const-string	v11,"Host"
; v11 : Ljava/lang/String;
	invoke-virtual	{v9},org/apache/http/HttpHost/toHostString	; toHostString()Ljava/lang/String;
; v9 : Lorg/apache/http/HttpHost;
	move-result-object	v12
; v12 : Ljava/lang/String;
	invoke-interface	{v6,v11,v12},org/apache/http/HttpEntityEnclosingRequest/addHeader	; addHeader(Ljava/lang/String;Ljava/lang/String;)V
; v6 : Lorg/apache/http/HttpEntityEnclosingRequest; , v11 : Ljava/lang/String; , v12 : Ljava/lang/String;
.line 116
	invoke-direct	{v14,v6},com/google/tagmanager/SimpleNetworkDispatcher/logDebugInformation	; logDebugInformation(Lorg/apache/http/HttpEntityEnclosingRequest;)V
; v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher; , v6 : Lorg/apache/http/HttpEntityEnclosingRequest;
.line 119
	if-eqz	v2,led57c
; v2 : single-length
led570:
.line 120
	iget-object	v11,v14,com/google/tagmanager/SimpleNetworkDispatcher.ctx Landroid/content/Context;
; v11 : Landroid/content/Context; , v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-static	{v11},com/google/tagmanager/NetworkReceiver/sendRadioPoweredBroadcast	; sendRadioPoweredBroadcast(Landroid/content/Context;)V
; v11 : Landroid/content/Context;
.line 121
	const/4	v2,0
; v2 : single-length
led57c:
.line 123
	iget-object	v11,v14,com/google/tagmanager/SimpleNetworkDispatcher.httpClient Lorg/apache/http/client/HttpClient;
; v11 : Lorg/apache/http/client/HttpClient; , v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v11,v9,v6},org/apache/http/client/HttpClient/execute	; execute(Lorg/apache/http/HttpHost;Lorg/apache/http/HttpRequest;)Lorg/apache/http/HttpResponse;
; v11 : Lorg/apache/http/client/HttpClient; , v9 : Lorg/apache/http/HttpHost; , v6 : Lorg/apache/http/HttpEntityEnclosingRequest;
	move-result-object	v7
; v7 : Lorg/apache/http/HttpResponse;
.line 124
	invoke-interface	{v7},org/apache/http/HttpResponse/getStatusLine	; getStatusLine()Lorg/apache/http/StatusLine;
; v7 : Lorg/apache/http/HttpResponse;
	move-result-object	v11
; v11 : Lorg/apache/http/StatusLine;
	invoke-interface	{v11},org/apache/http/StatusLine/getStatusCode	; getStatusCode()I
; v11 : Lorg/apache/http/StatusLine;
	move-result	v8
; v8 : single-length
.line 125
	invoke-interface	{v7},org/apache/http/HttpResponse/getEntity	; getEntity()Lorg/apache/http/HttpEntity;
; v7 : Lorg/apache/http/HttpResponse;
	move-result-object	v1
; v1 : Lorg/apache/http/HttpEntity;
.line 126
	if-eqz	v1,led5aa
; v1 : Lorg/apache/http/HttpEntity;
.line 127
	invoke-interface	{v1},org/apache/http/HttpEntity/consumeContent	; consumeContent()V
; v1 : Lorg/apache/http/HttpEntity;
led5aa:
.line 129
	const/16	v11,200
; v11 : single-length
	if-eq	v8,v11,led612
; v8 : single-length , v11 : single-length
.line 130
	new-instance	v11,java/lang/StringBuilder
; v11 : Ljava/lang/StringBuilder;
	invoke-direct	{v11},java/lang/StringBuilder/<init>	; <init>()V
; v11 : Ljava/lang/StringBuilder;
	const-string	v12,"Bad response: "
; v12 : Ljava/lang/String;
	invoke-virtual	{v11,v12},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v11 : Ljava/lang/StringBuilder; , v12 : Ljava/lang/String;
	move-result-object	v11
; v11 : Ljava/lang/StringBuilder;
	invoke-interface	{v7},org/apache/http/HttpResponse/getStatusLine	; getStatusLine()Lorg/apache/http/StatusLine;
; v7 : Lorg/apache/http/HttpResponse;
	move-result-object	v12
; v12 : Lorg/apache/http/StatusLine;
	invoke-interface	{v12},org/apache/http/StatusLine/getStatusCode	; getStatusCode()I
; v12 : Lorg/apache/http/StatusLine;
	move-result	v12
; v12 : single-length
	invoke-virtual	{v11,v12},java/lang/StringBuilder/append	; append(I)Ljava/lang/StringBuilder;
; v11 : Ljava/lang/StringBuilder; , v12 : single-length
	move-result-object	v11
; v11 : Ljava/lang/StringBuilder;
	invoke-virtual	{v11},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v11 : Ljava/lang/StringBuilder;
	move-result-object	v11
; v11 : Ljava/lang/String;
	invoke-static	{v11},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v11 : Ljava/lang/String;
.line 131
	iget-object	v11,v14,com/google/tagmanager/SimpleNetworkDispatcher.dispatchListener Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v11,v3},com/google/tagmanager/SimpleNetworkDispatcher$DispatchListener/onHitTransientDispatchFailure	; onHitTransientDispatchFailure(Lcom/google/tagmanager/Hit;)V
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v3 : Lcom/google/tagmanager/Hit;
led5f8:
	goto	led514
led5fa:
.line 135
	move-exception	v0
; v0 : org/apache/http/client/ClientProtocolException
.line 138
	const-string	v11,"ClientProtocolException sending hit; discarding hit..."
; v11 : Ljava/lang/String;
	invoke-static	{v11},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v11 : Ljava/lang/String;
.line 139
	iget-object	v11,v14,com/google/tagmanager/SimpleNetworkDispatcher.dispatchListener Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v11,v3},com/google/tagmanager/SimpleNetworkDispatcher$DispatchListener/onHitPermanentDispatchFailure	; onHitPermanentDispatchFailure(Lcom/google/tagmanager/Hit;)V
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v3 : Lcom/google/tagmanager/Hit;
	goto	led514
led612:
.line 133
	iget-object	v11,v14,com/google/tagmanager/SimpleNetworkDispatcher.dispatchListener Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v11,v3},com/google/tagmanager/SimpleNetworkDispatcher$DispatchListener/onHitDispatched	; onHitDispatched(Lcom/google/tagmanager/Hit;)V
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v3 : Lcom/google/tagmanager/Hit;
led61c:
	goto/16	led514
led620:
.line 140
	move-exception	v0
; v0 : java/io/IOException
.line 141
	new-instance	v11,java/lang/StringBuilder
; v11 : Ljava/lang/StringBuilder;
	invoke-direct	{v11},java/lang/StringBuilder/<init>	; <init>()V
; v11 : Ljava/lang/StringBuilder;
	const-string	v12,"Exception sending hit: "
; v12 : Ljava/lang/String;
	invoke-virtual	{v11,v12},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v11 : Ljava/lang/StringBuilder; , v12 : Ljava/lang/String;
	move-result-object	v11
; v11 : Ljava/lang/StringBuilder;
	invoke-virtual	{v0},java/lang/Object/getClass	; getClass()Ljava/lang/Class;
; v0 : java/io/IOException
	move-result-object	v12
; v12 : Ljava/lang/Class;
	invoke-virtual	{v12},java/lang/Class/getSimpleName	; getSimpleName()Ljava/lang/String;
; v12 : Ljava/lang/Class;
	move-result-object	v12
; v12 : Ljava/lang/String;
	invoke-virtual	{v11,v12},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v11 : Ljava/lang/StringBuilder; , v12 : Ljava/lang/String;
	move-result-object	v11
; v11 : Ljava/lang/StringBuilder;
	invoke-virtual	{v11},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v11 : Ljava/lang/StringBuilder;
	move-result-object	v11
; v11 : Ljava/lang/String;
	invoke-static	{v11},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v11 : Ljava/lang/String;
.line 142
	invoke-virtual	{v0},java/io/IOException/getMessage	; getMessage()Ljava/lang/String;
; v0 : java/io/IOException
	move-result-object	v11
; v11 : Ljava/lang/String;
	invoke-static	{v11},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v11 : Ljava/lang/String;
.line 143
	iget-object	v11,v14,com/google/tagmanager/SimpleNetworkDispatcher.dispatchListener Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener;
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v14 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	invoke-interface	{v11,v3},com/google/tagmanager/SimpleNetworkDispatcher$DispatchListener/onHitTransientDispatchFailure	; onHitTransientDispatchFailure(Lcom/google/tagmanager/Hit;)V
; v11 : Lcom/google/tagmanager/SimpleNetworkDispatcher$DispatchListener; , v3 : Lcom/google/tagmanager/Hit;
	goto/16	led514
led67a:
.line 146
	return-void	
.end method

.method getUrl(Lcom/google/tagmanager/Hit;)Ljava/net/URL;
.annotation buildVisibility Lcom/google/android/gms/common/util/VisibleForTesting;
.end annotation
.limit registers 5
; this: v3 (Lcom/google/tagmanager/SimpleNetworkDispatcher;)
; parameter[0] : v4 (Lcom/google/tagmanager/Hit;)
.catch java/net/MalformedURLException from led6b0 to led6ba using led6bc
.line 235
	invoke-virtual	{v4},com/google/tagmanager/Hit/getHitUrl	; getHitUrl()Ljava/lang/String;
; v4 : Lcom/google/tagmanager/Hit;
	move-result-object	v1
; v1 : Ljava/lang/String;
led6b0:
.line 237
	new-instance	v2,java/net/URL
; v2 : Ljava/net/URL;
	invoke-direct	{v2,v1},java/net/URL/<init>	; <init>(Ljava/lang/String;)V
; v2 : Ljava/net/URL; , v1 : Ljava/lang/String;
led6ba:
.line 240
	return-object	v2
; v2 : single-length
led6bc:
.line 238
	move-exception	v0
; v0 : java/net/MalformedURLException
.line 239
	const-string	v2,"Error trying to parse the GTM url."
; v2 : Ljava/lang/String;
	invoke-static	{v2},com/google/tagmanager/Log/e	; e(Ljava/lang/String;)V
; v2 : Ljava/lang/String;
.line 240
	const/4	v2,0
; v2 : single-length
	goto	led6ba
.end method

.method public okToDispatch()Z
.limit registers 5
; this: v4 (Lcom/google/tagmanager/SimpleNetworkDispatcher;)
.line 76
	iget-object	v2,v4,com/google/tagmanager/SimpleNetworkDispatcher.ctx Landroid/content/Context;
; v2 : Landroid/content/Context; , v4 : Lcom/google/tagmanager/SimpleNetworkDispatcher;
	const-string	v3,"connectivity"
; v3 : Ljava/lang/String;
	invoke-virtual	{v2,v3},android/content/Context/getSystemService	; getSystemService(Ljava/lang/String;)Ljava/lang/Object;
; v2 : Landroid/content/Context; , v3 : Ljava/lang/String;
	move-result-object	v0
; v0 : Ljava/lang/Object;
	check-cast	v0,android/net/ConnectivityManager
; v0 : Landroid/net/ConnectivityManager;
.line 78
	invoke-virtual	{v0},android/net/ConnectivityManager/getActiveNetworkInfo	; getActiveNetworkInfo()Landroid/net/NetworkInfo;
; v0 : Landroid/net/ConnectivityManager;
	move-result-object	v1
; v1 : Landroid/net/NetworkInfo;
.line 83
	if-eqz	v1,led718
; v1 : Landroid/net/NetworkInfo;
	invoke-virtual	{v1},android/net/NetworkInfo/isConnected	; isConnected()Z
; v1 : Landroid/net/NetworkInfo;
	move-result	v2
; v2 : single-length
	if-nez	v2,led726
; v2 : single-length
led718:
.line 84
	const-string	v2,"...no network connectivity"
; v2 : Ljava/lang/String;
	invoke-static	{v2},com/google/tagmanager/Log/v	; v(Ljava/lang/String;)V
; v2 : Ljava/lang/String;
.line 85
	const/4	v2,0
; v2 : single-length
led724:
.line 87
	return	v2
; v2 : single-length
led726:
	const/4	v2,1
; v2 : single-length
	goto	led724
.end method


