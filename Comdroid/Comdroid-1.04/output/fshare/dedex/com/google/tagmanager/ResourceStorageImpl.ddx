.class com/google/tagmanager/ResourceStorageImpl
.super java/lang/Object
.source ResourceStorageImpl.java
.implements com/google/tagmanager/Container$ResourceStorage

.field private static final SAVED_RESOURCE_FILENAME_PREFIX Ljava/lang/String; = "resource_"
.field private static final SAVED_RESOURCE_SUB_DIR Ljava/lang/String; = "google_tagmanager"
.field private mCallback Lcom/google/tagmanager/LoadCallback;
  .annotation systemVisibility Ldalvik/annotation/Signature;
    value [Ljava/lang/String; = { "Lcom/google/tagmanager/LoadCallback" , "<" , "Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;" , ">;" }
  .end annotation
.end field
.field private final mContainerId Ljava/lang/String;
.field private final mContext Landroid/content/Context;
.field private final mExecutor Ljava/util/concurrent/ExecutorService;

.method <init>(Landroid/content/Context;Ljava/lang/String;)V
.limit registers 4
; this: v1 (Lcom/google/tagmanager/ResourceStorageImpl;)
; parameter[0] : v2 (Landroid/content/Context;)
; parameter[1] : v3 (Ljava/lang/String;)
.line 41
	invoke-direct	{v1},java/lang/Object/<init>	; <init>()V
; v1 : Lcom/google/tagmanager/ResourceStorageImpl;
.line 42
	iput-object	v2,v1,com/google/tagmanager/ResourceStorageImpl.mContext Landroid/content/Context;
; v2 : Landroid/content/Context; , v1 : Lcom/google/tagmanager/ResourceStorageImpl;
.line 43
	iput-object	v3,v1,com/google/tagmanager/ResourceStorageImpl.mContainerId Ljava/lang/String;
; v3 : Ljava/lang/String; , v1 : Lcom/google/tagmanager/ResourceStorageImpl;
.line 45
	invoke-static	{},java/util/concurrent/Executors/newSingleThreadExecutor	; newSingleThreadExecutor()Ljava/util/concurrent/ExecutorService;
; 
	nop	
	move-result-object	v0
; v0 : Ljava/util/concurrent/ExecutorService;
	iput-object	v0,v1,com/google/tagmanager/ResourceStorageImpl.mExecutor Ljava/util/concurrent/ExecutorService;
; v0 : Ljava/util/concurrent/ExecutorService; , v1 : Lcom/google/tagmanager/ResourceStorageImpl;
.line 46
	return-void	
.end method

.method private stringFromInputStream(Ljava/io/InputStream;)Ljava/lang/String;
.throws Ljava/io/IOException;
.limit registers 8
; this: v6 (Lcom/google/tagmanager/ResourceStorageImpl;)
; parameter[0] : v7 (Ljava/io/InputStream;)
.line 245
	new-instance	v3,java/io/StringWriter
; v3 : Ljava/io/StringWriter;
	invoke-direct	{v3},java/io/StringWriter/<init>	; <init>()V
; v3 : Ljava/io/StringWriter;
.line 246
	const/16	v4,1024
; v4 : single-length
	new-array	v0,v4,[C
; v0 : [C , v4 : single-length
.line 247
	new-instance	v2,java/io/BufferedReader
; v2 : Ljava/io/BufferedReader;
	new-instance	v4,java/io/InputStreamReader
; v4 : Ljava/io/InputStreamReader;
	const-string	v5,"UTF-8"
; v5 : Ljava/lang/String;
	invoke-direct	{v4,v7,v5},java/io/InputStreamReader/<init>	; <init>(Ljava/io/InputStream;Ljava/lang/String;)V
; v4 : Ljava/io/InputStreamReader; , v7 : Ljava/io/InputStream; , v5 : Ljava/lang/String;
	invoke-direct	{v2,v4},java/io/BufferedReader/<init>	; <init>(Ljava/io/Reader;)V
; v2 : Ljava/io/BufferedReader; , v4 : Ljava/io/InputStreamReader;
lebf0a:
.line 249
	invoke-virtual	{v2,v0},java/io/Reader/read	; read([C)I
; v2 : Ljava/io/BufferedReader; , v0 : [C
	move-result	v1
; v1 : single-length
	const/4	v4,15
; v4 : single-length
	if-eq	v1,v4,lebf22
; v1 : single-length , v4 : single-length
.line 250
	const/4	v4,0
; v4 : single-length
	invoke-virtual	{v3,v0,v4,v1},java/io/Writer/write	; write([CII)V
; v3 : Ljava/io/StringWriter; , v0 : [C , v4 : single-length , v1 : single-length
	goto	lebf0a
lebf22:
.line 252
	invoke-virtual	{v3},java/lang/Object/toString	; toString()Ljava/lang/String;
; v3 : Ljava/io/StringWriter;
	move-result-object	v4
; v4 : Ljava/lang/String;
	return-object	v4
; v4 : Ljava/lang/String;
.end method

.method public synchronized close()V
.limit registers 2
; this: v1 (Lcom/google/tagmanager/ResourceStorageImpl;)
.catch java/lang/Exception from lebf3e to lebf48 using lebf4c
.line 201
	monitor-enter	v1
; v1 : Lcom/google/tagmanager/ResourceStorageImpl;
lebf3e:
	iget-object	v0,v1,com/google/tagmanager/ResourceStorageImpl.mExecutor Ljava/util/concurrent/ExecutorService;
; v0 : Ljava/util/concurrent/ExecutorService; , v1 : Lcom/google/tagmanager/ResourceStorageImpl;
	invoke-interface	{v0},java/util/concurrent/ExecutorService/shutdown	; shutdown()V
; v0 : Ljava/util/concurrent/ExecutorService;
lebf48:
.line 202
	monitor-exit	v1
; v1 : Lcom/google/tagmanager/ResourceStorageImpl;
	return-void	
lebf4c:
.line 201
	move-exception	v0
; v0 : java/lang/Exception
	monitor-exit	v1
; v1 : Lcom/google/tagmanager/ResourceStorageImpl;
	throw	v0
; v0 : java/lang/Exception
.end method

.method getResourceFile()Ljava/io/File;
.annotation buildVisibility Lcom/google/android/gms/common/util/VisibleForTesting;
.end annotation
.limit registers 6
; this: v5 (Lcom/google/tagmanager/ResourceStorageImpl;)
.line 237
	new-instance	v2,java/lang/StringBuilder
; v2 : Ljava/lang/StringBuilder;
	invoke-direct	{v2},java/lang/StringBuilder/<init>	; <init>()V
; v2 : Ljava/lang/StringBuilder;
	const-string	v3,"resource_"
; v3 : Ljava/lang/String;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	iget-object	v3,v5,com/google/tagmanager/ResourceStorageImpl.mContainerId Ljava/lang/String;
; v3 : Ljava/lang/String; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	invoke-virtual	{v2,v3},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v2 : Ljava/lang/StringBuilder; , v3 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/lang/StringBuilder;
	invoke-virtual	{v2},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v2 : Ljava/lang/StringBuilder;
	move-result-object	v1
; v1 : Ljava/lang/String;
.line 240
	iget-object	v2,v5,com/google/tagmanager/ResourceStorageImpl.mContext Landroid/content/Context;
; v2 : Landroid/content/Context; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	const-string	v3,"google_tagmanager"
; v3 : Ljava/lang/String;
	const/4	v4,0
; v4 : single-length
	invoke-virtual	{v2,v3,v4},android/content/Context/getDir	; getDir(Ljava/lang/String;I)Ljava/io/File;
; v2 : Landroid/content/Context; , v3 : Ljava/lang/String; , v4 : single-length
	move-result-object	v0
; v0 : Ljava/io/File;
.line 241
	new-instance	v2,java/io/File
; v2 : Ljava/io/File;
	invoke-direct	{v2,v0,v1},java/io/File/<init>	; <init>(Ljava/io/File;Ljava/lang/String;)V
; v2 : Ljava/io/File; , v0 : Ljava/io/File; , v1 : Ljava/lang/String;
	return-object	v2
; v2 : Ljava/io/File;
.end method

.method public loadExpandedResourceFromJsonAsset(Ljava/lang/String;)Lcom/google/tagmanager/ResourceUtil$ExpandedResource;
.limit registers 8
; this: v6 (Lcom/google/tagmanager/ResourceStorageImpl;)
; parameter[0] : v7 (Ljava/lang/String;)
.catch java/io/IOException from lec0de to lec0e4 using lec0e6
.catch java/io/IOException from lec0cc to lec0d2 using lec0d4
.catch java/lang/Exception from lec088 to lec0c8 using lec0d8
.catch java/io/IOException from lec07a to lec080 using lec082
.catch java/lang/Exception from lec03e to lec076 using lec0d8
.catch java/io/IOException from lec030 to lec036 using lec038
.catch java/io/IOException from lec014 to lec02a using lec03c
.catch org/json/JSONException from lec014 to lec02a using lec086
.catch java/lang/Exception from lec014 to lec02a using lec0d8
.var 1 is e Ljava/io/IOException; from lec03e to lec086
.var 1 is e Lorg/json/JSONException; from lec088 to lec0d8
	const/4	v3,0
; v3 : single-length
.line 172
	new-instance	v4,java/lang/StringBuilder
; v4 : Ljava/lang/StringBuilder;
	invoke-direct	{v4},java/lang/StringBuilder/<init>	; <init>()V
; v4 : Ljava/lang/StringBuilder;
	const-string	v5,"loading default container from "
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v5},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v5 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v4,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v4},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v4 : Ljava/lang/StringBuilder;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-static	{v4},com/google/tagmanager/Log/v	; v(Ljava/lang/String;)V
; v4 : Ljava/lang/String;
.line 173
	iget-object	v4,v6,com/google/tagmanager/ResourceStorageImpl.mContext Landroid/content/Context;
; v4 : Landroid/content/Context; , v6 : Lcom/google/tagmanager/ResourceStorageImpl;
	invoke-virtual	{v4},android/content/Context/getAssets	; getAssets()Landroid/content/res/AssetManager;
; v4 : Landroid/content/Context;
	move-result-object	v0
; v0 : Landroid/content/res/AssetManager;
.line 174
	if-nez	v0,lec012
; v0 : Landroid/content/res/AssetManager;
.line 175
	const-string	v4,"Looking for default JSON container in package, but no assets were found."
; v4 : Ljava/lang/String;
	invoke-static	{v4},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v4 : Ljava/lang/String;
lec010:
.line 194
	return-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedResource;
lec012:
.line 178
	const/4	v2,0
; v2 : single-length
lec014:
.line 180
	invoke-virtual	{v0,v7},android/content/res/AssetManager/open	; open(Ljava/lang/String;)Ljava/io/InputStream;
; v0 : Landroid/content/res/AssetManager; , v7 : Ljava/lang/String;
	move-result-object	v2
; v2 : Ljava/io/InputStream;
.line 181
	invoke-direct	{v6,v2},com/google/tagmanager/ResourceStorageImpl/stringFromInputStream	; stringFromInputStream(Ljava/io/InputStream;)Ljava/lang/String;
; v6 : Lcom/google/tagmanager/ResourceStorageImpl; , v2 : Ljava/io/InputStream;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-static	{v4},com/google/tagmanager/JsonUtils/expandedResourceFromJsonString	; expandedResourceFromJsonString(Ljava/lang/String;)Lcom/google/tagmanager/ResourceUtil$ExpandedResource;
; v4 : Ljava/lang/String;
lec02a:
	move-result-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedResource;
.line 189
	if-eqz	v2,lec010
; v2 : Ljava/io/InputStream;
lec030:
.line 191
	invoke-virtual	{v2},java/io/InputStream/close	; close()V
; v2 : Ljava/io/InputStream;
lec036:
	goto	lec010
lec038:
.line 192
	move-exception	v4
; v4 : java/io/IOException
	goto	lec010
lec03c:
.line 182
	move-exception	v1
; v1 : java/io/IOException
lec03e:
.line 183
	new-instance	v4,java/lang/StringBuilder
; v4 : Ljava/lang/StringBuilder;
	invoke-direct	{v4},java/lang/StringBuilder/<init>	; <init>()V
; v4 : Ljava/lang/StringBuilder;
	const-string	v5,"No asset file: "
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v5},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v5 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v4,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	const-string	v5," found (or errors reading it)."
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v5},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v5 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v4},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v4 : Ljava/lang/StringBuilder;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-static	{v4},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v4 : Ljava/lang/String;
lec076:
.line 189
	if-eqz	v2,lec010
; v2 : Ljava/io/InputStream;
lec07a:
.line 191
	invoke-virtual	{v2},java/io/InputStream/close	; close()V
; v2 : Ljava/io/InputStream;
lec080:
	goto	lec010
lec082:
.line 192
	move-exception	v4
; v4 : java/io/IOException
	goto	lec010
lec086:
.line 185
	move-exception	v1
; v1 : org/json/JSONException
lec088:
.line 186
	new-instance	v4,java/lang/StringBuilder
; v4 : Ljava/lang/StringBuilder;
	invoke-direct	{v4},java/lang/StringBuilder/<init>	; <init>()V
; v4 : Ljava/lang/StringBuilder;
	const-string	v5,"Error parsing JSON file"
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v5},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v5 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v4,v7},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v7 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	const-string	v5," : "
; v5 : Ljava/lang/String;
	invoke-virtual	{v4,v5},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v5 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v4,v1},java/lang/StringBuilder/append	; append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
; v4 : Ljava/lang/StringBuilder; , v1 : org/json/JSONException
	move-result-object	v4
; v4 : Ljava/lang/StringBuilder;
	invoke-virtual	{v4},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v4 : Ljava/lang/StringBuilder;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-static	{v4},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v4 : Ljava/lang/String;
lec0c8:
.line 189
	if-eqz	v2,lec010
; v2 : Ljava/io/InputStream;
lec0cc:
.line 191
	invoke-virtual	{v2},java/io/InputStream/close	; close()V
; v2 : Ljava/io/InputStream;
lec0d2:
	goto	lec010
lec0d4:
.line 192
	move-exception	v4
; v4 : java/io/IOException
	goto	lec010
lec0d8:
.line 189
	move-exception	v3
; v3 : java/lang/Exception
	if-eqz	v2,lec0e4
; v2 : Ljava/io/InputStream;
lec0de:
.line 191
	invoke-virtual	{v2},java/io/InputStream/close	; close()V
; v2 : Ljava/io/InputStream;
lec0e4:
.line 194
	throw	v3
; v3 : java/lang/Exception
lec0e6:
.line 192
	move-exception	v4
; v4 : java/io/IOException
	goto	lec0e4
.end method

.method public loadResourceFromContainerAsset(Ljava/lang/String;)Lcom/google/analytics/containertag/proto/Serving$Resource;
.limit registers 11
; this: v9 (Lcom/google/tagmanager/ResourceStorageImpl;)
; parameter[0] : v10 (Ljava/lang/String;)
.catch java/io/IOException from lec27a to lec280 using lec286
.catch java/io/IOException from lec26e to lec274 using lec282
.catch java/lang/Exception from lec242 to lec26e using lec278
.catch java/io/IOException from lec1f6 to lec1fc using lec1fe
.catch java/io/IOException from lec1aa to lec1f6 using lec240
.catch java/lang/Exception from lec1aa to lec1f6 using lec278
.catch java/io/IOException from lec1a2 to lec1a8 using lec202
.var 3 is output Ljava/io/ByteArrayOutputStream; from lec1b4 to lec202
.var 4 is outputByteArray [B from lec1c2 to lec202
.var 5 is result Lcom/google/analytics/containertag/proto/Serving$Resource; from lec1ca to lec202
.var 1 is e Ljava/io/IOException; from lec204 to lec240
.var 1 is e Ljava/io/IOException; from lec242 to lec278
.var 1 is e Ljava/io/IOException; from lec282 to lec286
	const/4	v6,0
; v6 : single-length
.line 129
	new-instance	v7,java/lang/StringBuilder
; v7 : Ljava/lang/StringBuilder;
	invoke-direct	{v7},java/lang/StringBuilder/<init>	; <init>()V
; v7 : Ljava/lang/StringBuilder;
	const-string	v8,"Loading default container from "
; v8 : Ljava/lang/String;
	invoke-virtual	{v7,v8},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v8 : Ljava/lang/String;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	invoke-virtual	{v7,v10},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v10 : Ljava/lang/String;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	invoke-virtual	{v7},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v7 : Ljava/lang/StringBuilder;
	move-result-object	v7
; v7 : Ljava/lang/String;
	invoke-static	{v7},com/google/tagmanager/Log/v	; v(Ljava/lang/String;)V
; v7 : Ljava/lang/String;
.line 130
	iget-object	v7,v9,com/google/tagmanager/ResourceStorageImpl.mContext Landroid/content/Context;
; v7 : Landroid/content/Context; , v9 : Lcom/google/tagmanager/ResourceStorageImpl;
	invoke-virtual	{v7},android/content/Context/getAssets	; getAssets()Landroid/content/res/AssetManager;
; v7 : Landroid/content/Context;
	move-result-object	v0
; v0 : Landroid/content/res/AssetManager;
.line 131
	if-nez	v0,lec1a0
; v0 : Landroid/content/res/AssetManager;
.line 132
	const-string	v7,"No assets found in package"
; v7 : Ljava/lang/String;
	invoke-static	{v7},com/google/tagmanager/Log/e	; e(Ljava/lang/String;)V
; v7 : Ljava/lang/String;
	move-object	v5,v6
; v5 : single-length , v6 : single-length
lec19e:
.line 158
	return-object	v5
; v5 : Lcom/google/analytics/containertag/proto/Serving$Resource;
lec1a0:
.line 135
	const/4	v2,0
; v2 : single-length
lec1a2:
.line 137
	invoke-virtual	{v0,v10},android/content/res/AssetManager/open	; open(Ljava/lang/String;)Ljava/io/InputStream;
; v0 : Landroid/content/res/AssetManager; , v10 : Ljava/lang/String;
lec1a8:
	move-result-object	v2
; v2 : Ljava/io/InputStream;
lec1aa:
.line 144
	new-instance	v3,java/io/ByteArrayOutputStream
; v3 : Ljava/io/ByteArrayOutputStream;
	invoke-direct	{v3},java/io/ByteArrayOutputStream/<init>	; <init>()V
; v3 : Ljava/io/ByteArrayOutputStream;
.line 145
	invoke-static	{v2,v3},com/google/tagmanager/ResourceUtil/copyStream	; copyStream(Ljava/io/InputStream;Ljava/io/OutputStream;)V
; v2 : Ljava/io/InputStream; , v3 : Ljava/io/ByteArrayOutputStream;
.line 146
	invoke-virtual	{v3},java/io/ByteArrayOutputStream/toByteArray	; toByteArray()[B
; v3 : Ljava/io/ByteArrayOutputStream;
	move-result-object	v4
; v4 : [B
.line 147
	invoke-static	{v4},com/google/analytics/containertag/proto/Serving$Resource/parseFrom	; parseFrom([B)Lcom/google/analytics/containertag/proto/Serving$Resource;
; v4 : [B
	move-result-object	v5
; v5 : Lcom/google/analytics/containertag/proto/Serving$Resource;
.line 148
	new-instance	v7,java/lang/StringBuilder
; v7 : Ljava/lang/StringBuilder;
	invoke-direct	{v7},java/lang/StringBuilder/<init>	; <init>()V
; v7 : Ljava/lang/StringBuilder;
	const-string	v8,"Parsed default container: "
; v8 : Ljava/lang/String;
	invoke-virtual	{v7,v8},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v8 : Ljava/lang/String;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	invoke-virtual	{v7,v5},java/lang/StringBuilder/append	; append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v5 : Lcom/google/analytics/containertag/proto/Serving$Resource;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	invoke-virtual	{v7},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v7 : Ljava/lang/StringBuilder;
	move-result-object	v7
; v7 : Ljava/lang/String;
	invoke-static	{v7},com/google/tagmanager/Log/v	; v(Ljava/lang/String;)V
; v7 : Ljava/lang/String;
lec1f6:
.line 155
	invoke-virtual	{v2},java/io/InputStream/close	; close()V
; v2 : Ljava/io/InputStream;
lec1fc:
	goto	lec19e
lec1fe:
.line 156
	move-exception	v6
; v6 : java/io/IOException
	goto	lec19e
lec202:
.line 138
	move-exception	v1
; v1 : java/io/IOException
.line 139
	new-instance	v7,java/lang/StringBuilder
; v7 : Ljava/lang/StringBuilder;
	invoke-direct	{v7},java/lang/StringBuilder/<init>	; <init>()V
; v7 : Ljava/lang/StringBuilder;
	const-string	v8,"No asset file: "
; v8 : Ljava/lang/String;
	invoke-virtual	{v7,v8},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v8 : Ljava/lang/String;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	invoke-virtual	{v7,v10},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v10 : Ljava/lang/String;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	const-string	v8," found."
; v8 : Ljava/lang/String;
	invoke-virtual	{v7,v8},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v8 : Ljava/lang/String;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	invoke-virtual	{v7},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v7 : Ljava/lang/StringBuilder;
	move-result-object	v7
; v7 : Ljava/lang/String;
	invoke-static	{v7},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v7 : Ljava/lang/String;
	move-object	v5,v6
; v5 : single-length , v6 : single-length
.line 140
	goto	lec19e
lec240:
.line 150
	move-exception	v1
; v1 : java/io/IOException
lec242:
.line 151
	new-instance	v7,java/lang/StringBuilder
; v7 : Ljava/lang/StringBuilder;
	invoke-direct	{v7},java/lang/StringBuilder/<init>	; <init>()V
; v7 : Ljava/lang/StringBuilder;
	const-string	v8,"Error when parsing: "
; v8 : Ljava/lang/String;
	invoke-virtual	{v7,v8},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v8 : Ljava/lang/String;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	invoke-virtual	{v7,v10},java/lang/StringBuilder/append	; append(Ljava/lang/String;)Ljava/lang/StringBuilder;
; v7 : Ljava/lang/StringBuilder; , v10 : Ljava/lang/String;
	move-result-object	v7
; v7 : Ljava/lang/StringBuilder;
	invoke-virtual	{v7},java/lang/StringBuilder/toString	; toString()Ljava/lang/String;
; v7 : Ljava/lang/StringBuilder;
	move-result-object	v7
; v7 : Ljava/lang/String;
	invoke-static	{v7},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v7 : Ljava/lang/String;
lec26e:
.line 155
	invoke-virtual	{v2},java/io/InputStream/close	; close()V
; v2 : Ljava/io/InputStream;
lec274:
	move-object	v5,v6
; v5 : single-length , v6 : single-length
.line 158
	goto	lec19e
lec278:
.line 154
	move-exception	v6
; v6 : java/lang/Exception
lec27a:
.line 155
	invoke-virtual	{v2},java/io/InputStream/close	; close()V
; v2 : Ljava/io/InputStream;
lec280:
.line 158
	throw	v6
; v6 : java/lang/Exception
lec282:
.line 156
	move-exception	v7
; v7 : java/io/IOException
	goto	lec274
lec286:
	move-exception	v7
; v7 : java/io/IOException
	goto	lec280
.end method

.method loadResourceFromDisk()V
.annotation buildVisibility Lcom/google/android/gms/common/util/VisibleForTesting;
.end annotation
.limit registers 6
; this: v5 (Lcom/google/tagmanager/ResourceStorageImpl;)
.catch java/io/IOException from lec420 to lec426 using lec428
.catch java/io/IOException from lec408 to lec40e using lec410
.catch java/lang/Exception from lec3f0 to lec408 using lec41e
.catch java/io/IOException from lec3b2 to lec3b8 using lec3e0
.catch java/io/IOException from lec388 to lec3b2 using lec3ee
.catch java/lang/Exception from lec388 to lec3b2 using lec41e
.catch java/io/FileNotFoundException from lec376 to lec388 using lec3c4
.var 2 is stream Ljava/io/FileInputStream; from lec376 to lec37a
.var 1 is input Ljava/io/ByteArrayOutputStream; from lec392 to lec3b8
.var 2 is stream Ljava/io/FileInputStream; from lec388 to lec3c4
.var 0 is e Ljava/io/FileNotFoundException; from lec3c6 to lec3e0
.var 0 is e Ljava/io/IOException; from lec3e2 to lec3ee
.var 1 is input Ljava/io/ByteArrayOutputStream; from lec3e0 to lec3ee
.var 0 is e Ljava/io/IOException; from lec3f0 to lec41e
.line 69
	iget-object	v3,v5,com/google/tagmanager/ResourceStorageImpl.mCallback Lcom/google/tagmanager/LoadCallback;
; v3 : Lcom/google/tagmanager/LoadCallback; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	if-nez	v3,lec300
; v3 : Lcom/google/tagmanager/LoadCallback;
.line 72
	new-instance	v3,java/lang/IllegalStateException
; v3 : Ljava/lang/IllegalStateException;
	const-string	v4,"callback must be set before execute"
; v4 : Ljava/lang/String;
	invoke-direct	{v3,v4},java/lang/IllegalStateException/<init>	; <init>(Ljava/lang/String;)V
; v3 : Ljava/lang/IllegalStateException; , v4 : Ljava/lang/String;
	throw	v3
; v3 : Ljava/lang/IllegalStateException;
lec300:
.line 74
	iget-object	v3,v5,com/google/tagmanager/ResourceStorageImpl.mCallback Lcom/google/tagmanager/LoadCallback;
; v3 : Lcom/google/tagmanager/LoadCallback; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	invoke-interface	{v3},com/google/tagmanager/LoadCallback/startLoad	; startLoad()V
; v3 : Lcom/google/tagmanager/LoadCallback;
.line 76
	const-string	v3,"Start loading resource from disk ..."
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/Log/v	; v(Ljava/lang/String;)V
; v3 : Ljava/lang/String;
.line 79
	invoke-static	{},com/google/tagmanager/PreviewManager/getInstance	; getInstance()Lcom/google/tagmanager/PreviewManager;
; 
	nop	
	move-result-object	v3
; v3 : Lcom/google/tagmanager/PreviewManager;
	invoke-virtual	{v3},com/google/tagmanager/PreviewManager/getPreviewMode	; getPreviewMode()Lcom/google/tagmanager/PreviewManager$PreviewMode;
; v3 : Lcom/google/tagmanager/PreviewManager;
	move-result-object	v3
; v3 : Lcom/google/tagmanager/PreviewManager$PreviewMode;
	sget-object	v4,com/google/tagmanager/PreviewManager$PreviewMode.CONTAINER Lcom/google/tagmanager/PreviewManager$PreviewMode;
; v4 : Lcom/google/tagmanager/PreviewManager$PreviewMode;
	if-eq	v3,v4,lec344
; v3 : Lcom/google/tagmanager/PreviewManager$PreviewMode; , v4 : Lcom/google/tagmanager/PreviewManager$PreviewMode;
	invoke-static	{},com/google/tagmanager/PreviewManager/getInstance	; getInstance()Lcom/google/tagmanager/PreviewManager;
; 
	nop	
	move-result-object	v3
; v3 : Lcom/google/tagmanager/PreviewManager;
	invoke-virtual	{v3},com/google/tagmanager/PreviewManager/getPreviewMode	; getPreviewMode()Lcom/google/tagmanager/PreviewManager$PreviewMode;
; v3 : Lcom/google/tagmanager/PreviewManager;
	move-result-object	v3
; v3 : Lcom/google/tagmanager/PreviewManager$PreviewMode;
	sget-object	v4,com/google/tagmanager/PreviewManager$PreviewMode.CONTAINER_DEBUG Lcom/google/tagmanager/PreviewManager$PreviewMode;
; v4 : Lcom/google/tagmanager/PreviewManager$PreviewMode;
	if-ne	v3,v4,lec374
; v3 : Lcom/google/tagmanager/PreviewManager$PreviewMode; , v4 : Lcom/google/tagmanager/PreviewManager$PreviewMode;
lec344:
	iget-object	v3,v5,com/google/tagmanager/ResourceStorageImpl.mContainerId Ljava/lang/String;
; v3 : Ljava/lang/String; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	invoke-static	{},com/google/tagmanager/PreviewManager/getInstance	; getInstance()Lcom/google/tagmanager/PreviewManager;
; 
	nop	
	move-result-object	v4
; v4 : Lcom/google/tagmanager/PreviewManager;
	invoke-virtual	{v4},com/google/tagmanager/PreviewManager/getContainerId	; getContainerId()Ljava/lang/String;
; v4 : Lcom/google/tagmanager/PreviewManager;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-virtual	{v3,v4},java/lang/String/equals	; equals(Ljava/lang/Object;)Z
; v3 : Ljava/lang/String; , v4 : Ljava/lang/String;
	move-result	v3
; v3 : single-length
	if-eqz	v3,lec374
; v3 : single-length
.line 82
	iget-object	v3,v5,com/google/tagmanager/ResourceStorageImpl.mCallback Lcom/google/tagmanager/LoadCallback;
; v3 : Lcom/google/tagmanager/LoadCallback; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	sget-object	v4,com/google/tagmanager/LoadCallback$Failure.NOT_AVAILABLE Lcom/google/tagmanager/LoadCallback$Failure;
; v4 : Lcom/google/tagmanager/LoadCallback$Failure;
	invoke-interface	{v3,v4},com/google/tagmanager/LoadCallback/onFailure	; onFailure(Lcom/google/tagmanager/LoadCallback$Failure;)V
; v3 : Lcom/google/tagmanager/LoadCallback; , v4 : Lcom/google/tagmanager/LoadCallback$Failure;
lec372:
.line 111
	return-void	
lec374:
.line 86
	const/4	v2,0
; v2 : single-length
lec376:
.line 88
	new-instance	v2,java/io/FileInputStream
; v2 : Ljava/io/FileInputStream;
lec37a:
	invoke-virtual	{v5},com/google/tagmanager/ResourceStorageImpl/getResourceFile	; getResourceFile()Ljava/io/File;
; v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	move-result-object	v3
; v3 : Ljava/io/File;
	invoke-direct	{v2,v3},java/io/FileInputStream/<init>	; <init>(Ljava/io/File;)V
; v2 : Ljava/io/FileInputStream; , v3 : Ljava/io/File;
lec388:
.line 96
	new-instance	v1,java/io/ByteArrayOutputStream
; v1 : Ljava/io/ByteArrayOutputStream;
	invoke-direct	{v1},java/io/ByteArrayOutputStream/<init>	; <init>()V
; v1 : Ljava/io/ByteArrayOutputStream;
.line 97
	invoke-static	{v2,v1},com/google/tagmanager/ResourceUtil/copyStream	; copyStream(Ljava/io/InputStream;Ljava/io/OutputStream;)V
; v2 : Ljava/io/FileInputStream; , v1 : Ljava/io/ByteArrayOutputStream;
.line 98
	iget-object	v3,v5,com/google/tagmanager/ResourceStorageImpl.mCallback Lcom/google/tagmanager/LoadCallback;
; v3 : Lcom/google/tagmanager/LoadCallback; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	invoke-virtual	{v1},java/io/ByteArrayOutputStream/toByteArray	; toByteArray()[B
; v1 : Ljava/io/ByteArrayOutputStream;
	move-result-object	v4
; v4 : [B
	invoke-static	{v4},com/google/tagmanager/proto/Resource$ResourceWithMetadata/parseFrom	; parseFrom([B)Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;
; v4 : [B
	move-result-object	v4
; v4 : Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;
	invoke-interface	{v3,v4},com/google/tagmanager/LoadCallback/onSuccess	; onSuccess(Ljava/lang/Object;)V
; v3 : Lcom/google/tagmanager/LoadCallback; , v4 : Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;
lec3b2:
.line 104
	invoke-virtual	{v2},java/io/FileInputStream/close	; close()V
; v2 : Ljava/io/FileInputStream;
lec3b8:
.line 110
	const-string	v3,"Load resource from disk finished."
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/Log/v	; v(Ljava/lang/String;)V
; v3 : Ljava/lang/String;
	goto	lec372
lec3c4:
.line 89
	move-exception	v0
; v0 : java/io/FileNotFoundException
.line 90
	const-string	v3,"resource not on disk"
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/Log/d	; d(Ljava/lang/String;)V
; v3 : Ljava/lang/String;
.line 91
	iget-object	v3,v5,com/google/tagmanager/ResourceStorageImpl.mCallback Lcom/google/tagmanager/LoadCallback;
; v3 : Lcom/google/tagmanager/LoadCallback; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	sget-object	v4,com/google/tagmanager/LoadCallback$Failure.NOT_AVAILABLE Lcom/google/tagmanager/LoadCallback$Failure;
; v4 : Lcom/google/tagmanager/LoadCallback$Failure;
	invoke-interface	{v3,v4},com/google/tagmanager/LoadCallback/onFailure	; onFailure(Lcom/google/tagmanager/LoadCallback$Failure;)V
; v3 : Lcom/google/tagmanager/LoadCallback; , v4 : Lcom/google/tagmanager/LoadCallback$Failure;
	goto	lec372
lec3e0:
.line 105
	move-exception	v0
; v0 : java/io/IOException
.line 106
	const-string	v3,"error closing stream for reading resource from disk"
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v3 : Ljava/lang/String;
	goto	lec3b8
lec3ee:
.line 99
	move-exception	v0
; v0 : java/io/IOException
lec3f0:
.line 100
	const-string	v3,"error reading resource from disk"
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v3 : Ljava/lang/String;
.line 101
	iget-object	v3,v5,com/google/tagmanager/ResourceStorageImpl.mCallback Lcom/google/tagmanager/LoadCallback;
; v3 : Lcom/google/tagmanager/LoadCallback; , v5 : Lcom/google/tagmanager/ResourceStorageImpl;
	sget-object	v4,com/google/tagmanager/LoadCallback$Failure.IO_ERROR Lcom/google/tagmanager/LoadCallback$Failure;
; v4 : Lcom/google/tagmanager/LoadCallback$Failure;
	invoke-interface	{v3,v4},com/google/tagmanager/LoadCallback/onFailure	; onFailure(Lcom/google/tagmanager/LoadCallback$Failure;)V
; v3 : Lcom/google/tagmanager/LoadCallback; , v4 : Lcom/google/tagmanager/LoadCallback$Failure;
lec408:
.line 104
	invoke-virtual	{v2},java/io/FileInputStream/close	; close()V
; v2 : Ljava/io/FileInputStream;
lec40e:
	goto	lec3b8
lec410:
.line 105
	move-exception	v0
; v0 : java/io/IOException
.line 106
	const-string	v3,"error closing stream for reading resource from disk"
; v3 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v3 : Ljava/lang/String;
	goto	lec3b8
lec41e:
.line 103
	move-exception	v3
; v3 : java/lang/Exception
lec420:
.line 104
	invoke-virtual	{v2},java/io/FileInputStream/close	; close()V
; v2 : Ljava/io/FileInputStream;
lec426:
.line 107
	throw	v3
; v3 : java/lang/Exception
lec428:
.line 105
	move-exception	v0
; v0 : java/io/IOException
.line 106
	const-string	v4,"error closing stream for reading resource from disk"
; v4 : Ljava/lang/String;
	invoke-static	{v4},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v4 : Ljava/lang/String;
	goto	lec426
.end method

.method public loadResourceFromDiskInBackground()V
.limit registers 3
; this: v2 (Lcom/google/tagmanager/ResourceStorageImpl;)
.line 55
	iget-object	v0,v2,com/google/tagmanager/ResourceStorageImpl.mExecutor Ljava/util/concurrent/ExecutorService;
; v0 : Ljava/util/concurrent/ExecutorService; , v2 : Lcom/google/tagmanager/ResourceStorageImpl;
	new-instance	v1,com/google/tagmanager/ResourceStorageImpl$1
; v1 : Lcom/google/tagmanager/ResourceStorageImpl$1;
	invoke-direct	{v1,v2},com/google/tagmanager/ResourceStorageImpl$1/<init>	; <init>(Lcom/google/tagmanager/ResourceStorageImpl;)V
; v1 : Lcom/google/tagmanager/ResourceStorageImpl$1; , v2 : Lcom/google/tagmanager/ResourceStorageImpl;
	invoke-interface	{v0,v1},java/util/concurrent/ExecutorService/execute	; execute(Ljava/lang/Runnable;)V
; v0 : Ljava/util/concurrent/ExecutorService; , v1 : Lcom/google/tagmanager/ResourceStorageImpl$1;
.line 61
	return-void	
.end method

.method saveResourceToDisk(Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;)Z
.annotation buildVisibility Lcom/google/android/gms/common/util/VisibleForTesting;
.end annotation
.limit registers 8
; this: v6 (Lcom/google/tagmanager/ResourceStorageImpl;)
; parameter[0] : v7 (Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;)
.catch java/io/IOException from lec538 to lec53e using lec540
.catch java/io/IOException from lec51e to lec524 using lec528
.catch java/lang/Exception from lec50e to lec51e using lec536
.catch java/io/IOException from lec4e6 to lec4ec using lec4fe
.catch java/io/IOException from lec4d6 to lec4e4 using lec50c
.catch java/lang/Exception from lec4d6 to lec4e4 using lec536
.catch java/io/FileNotFoundException from lec4cc to lec4d6 using lec4f0
.var 2 is stream Ljava/io/FileOutputStream; from lec4c4 to lec4d6
.var 3 is stream Ljava/io/FileOutputStream; from lec4d6 to lec4ee
.var 0 is e Ljava/io/FileNotFoundException; from lec4f2 to lec4fe
.var 2 is stream Ljava/io/FileOutputStream; from lec4ee to lec4fe
.var 0 is e Ljava/io/IOException; from lec500 to lec50c
.var 3 is stream Ljava/io/FileOutputStream; from lec4fe to lec526
.var 2 is stream Ljava/io/FileOutputStream; from lec526 to lec528
.var 0 is e Ljava/io/IOException; from lec50e to lec536
	const/4	v4,0
; v4 : single-length
.line 209
	const/4	v2,0
; v2 : single-length
.line 210
	invoke-virtual	{v6},com/google/tagmanager/ResourceStorageImpl/getResourceFile	; getResourceFile()Ljava/io/File;
; v6 : Lcom/google/tagmanager/ResourceStorageImpl;
	move-result-object	v1
; v1 : Ljava/io/File;
lec4cc:
.line 212
	new-instance	v3,java/io/FileOutputStream
; v3 : Ljava/io/FileOutputStream;
	invoke-direct	{v3,v1},java/io/FileOutputStream/<init>	; <init>(Ljava/io/File;)V
; v3 : Ljava/io/FileOutputStream; , v1 : Ljava/io/File;
lec4d6:
.line 219
	invoke-static	{v7},com/google/tagmanager/protobuf/nano/MessageNano/toByteArray	; toByteArray(Lcom/google/tagmanager/protobuf/nano/MessageNano;)[B
; v7 : Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;
	move-result-object	v5
; v5 : [B
	invoke-virtual	{v3,v5},java/io/FileOutputStream/write	; write([B)V
; v3 : Ljava/io/FileOutputStream; , v5 : [B
lec4e4:
.line 220
	const/4	v4,1
; v4 : single-length
lec4e6:
.line 227
	invoke-virtual	{v3},java/io/FileOutputStream/close	; close()V
; v3 : Ljava/io/FileOutputStream;
lec4ec:
	move-object	v2,v3
; v2 : Ljava/io/FileOutputStream; , v3 : Ljava/io/FileOutputStream;
lec4ee:
.line 232
	return	v4
; v4 : single-length
lec4f0:
.line 213
	move-exception	v0
; v0 : java/io/FileNotFoundException
.line 214
	const-string	v5,"Error opening resource file for writing"
; v5 : Ljava/lang/String;
	invoke-static	{v5},com/google/tagmanager/Log/e	; e(Ljava/lang/String;)V
; v5 : Ljava/lang/String;
	goto	lec4ee
lec4fe:
.line 228
	move-exception	v0
; v0 : java/io/IOException
.line 229
	const-string	v5,"error closing stream for writing resource to disk"
; v5 : Ljava/lang/String;
	invoke-static	{v5},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v5 : Ljava/lang/String;
	goto	lec4ec
lec50c:
.line 221
	move-exception	v0
; v0 : java/io/IOException
lec50e:
.line 222
	const-string	v5,"Error writing resource to disk. Removing resource from disk."
; v5 : Ljava/lang/String;
	invoke-static	{v5},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v5 : Ljava/lang/String;
.line 224
	invoke-virtual	{v1},java/io/File/delete	; delete()Z
; v1 : Ljava/io/File;
lec51e:
.line 227
	invoke-virtual	{v3},java/io/FileOutputStream/close	; close()V
; v3 : Ljava/io/FileOutputStream;
lec524:
	move-object	v2,v3
; v2 : Ljava/io/FileOutputStream; , v3 : Ljava/io/FileOutputStream;
.line 232
	goto	lec4ee
lec528:
.line 228
	move-exception	v0
; v0 : java/io/IOException
.line 229
	const-string	v5,"error closing stream for writing resource to disk"
; v5 : Ljava/lang/String;
	invoke-static	{v5},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v5 : Ljava/lang/String;
	goto	lec524
lec536:
.line 226
	move-exception	v4
; v4 : java/lang/Exception
lec538:
.line 227
	invoke-virtual	{v3},java/io/FileOutputStream/close	; close()V
; v3 : Ljava/io/FileOutputStream;
lec53e:
.line 230
	throw	v4
; v4 : java/lang/Exception
lec540:
.line 228
	move-exception	v0
; v0 : java/io/IOException
.line 229
	const-string	v5,"error closing stream for writing resource to disk"
; v5 : Ljava/lang/String;
	invoke-static	{v5},com/google/tagmanager/Log/w	; w(Ljava/lang/String;)V
; v5 : Ljava/lang/String;
	goto	lec53e
.end method

.method public saveResourceToDiskInBackground(Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;)V
.limit registers 4
; this: v2 (Lcom/google/tagmanager/ResourceStorageImpl;)
; parameter[0] : v3 (Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;)
.line 119
	iget-object	v0,v2,com/google/tagmanager/ResourceStorageImpl.mExecutor Ljava/util/concurrent/ExecutorService;
; v0 : Ljava/util/concurrent/ExecutorService; , v2 : Lcom/google/tagmanager/ResourceStorageImpl;
	new-instance	v1,com/google/tagmanager/ResourceStorageImpl$2
; v1 : Lcom/google/tagmanager/ResourceStorageImpl$2;
	invoke-direct	{v1,v2,v3},com/google/tagmanager/ResourceStorageImpl$2/<init>	; <init>(Lcom/google/tagmanager/ResourceStorageImpl;Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;)V
; v1 : Lcom/google/tagmanager/ResourceStorageImpl$2; , v2 : Lcom/google/tagmanager/ResourceStorageImpl; , v3 : Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;
	invoke-interface	{v0,v1},java/util/concurrent/ExecutorService/execute	; execute(Ljava/lang/Runnable;)V
; v0 : Ljava/util/concurrent/ExecutorService; , v1 : Lcom/google/tagmanager/ResourceStorageImpl$2;
.line 125
	return-void	
.end method

.method public setLoadCallback(Lcom/google/tagmanager/LoadCallback;)V
.annotation systemVisibility Ldalvik/annotation/Signature;
    value [Ljava/lang/String; = { "(" , "Lcom/google/tagmanager/LoadCallback" , "<" , "Lcom/google/tagmanager/proto/Resource$ResourceWithMetadata;" , ">;)V" }
.end annotation
.limit registers 2
; this: v0 (Lcom/google/tagmanager/ResourceStorageImpl;)
; parameter[0] : v1 (Lcom/google/tagmanager/LoadCallback;)
.line 50
	iput-object	v1,v0,com/google/tagmanager/ResourceStorageImpl.mCallback Lcom/google/tagmanager/LoadCallback;
; v1 : Lcom/google/tagmanager/LoadCallback; , v0 : Lcom/google/tagmanager/ResourceStorageImpl;
.line 51
	return-void	
.end method


