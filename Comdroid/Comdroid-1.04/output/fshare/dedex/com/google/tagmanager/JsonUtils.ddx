.class com/google/tagmanager/JsonUtils
.super java/lang/Object
.source JsonUtils.java


.method private <init>()V
.limit registers 1
; this: v0 (Lcom/google/tagmanager/JsonUtils;)
.line 22
	invoke-direct	{v0},java/lang/Object/<init>	; <init>()V
; v0 : Lcom/google/tagmanager/JsonUtils;
.line 23
	return-void	
.end method

.method public static expandedResourceFromJsonString(Ljava/lang/String;)Lcom/google/tagmanager/ResourceUtil$ExpandedResource;
.throws Lorg/json/JSONException;
.limit registers 7
; parameter[0] : v6 (Ljava/lang/String;)
.line 27
	new-instance	v3,org/json/JSONObject
; v3 : Lorg/json/JSONObject;
	invoke-direct	{v3,v6},org/json/JSONObject/<init>	; <init>(Ljava/lang/String;)V
; v3 : Lorg/json/JSONObject; , v6 : Ljava/lang/String;
	invoke-static	{v3},com/google/tagmanager/JsonUtils/jsonObjectToValue	; jsonObjectToValue(Ljava/lang/Object;)Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
; v3 : Lorg/json/JSONObject;
	move-result-object	v2
; v2 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
.line 29
	invoke-static	{},com/google/tagmanager/ResourceUtil$ExpandedResource/newBuilder	; newBuilder()Lcom/google/tagmanager/ResourceUtil$ExpandedResourceBuilder;
; 
	nop	
	move-result-object	v0
; v0 : Lcom/google/tagmanager/ResourceUtil$ExpandedResourceBuilder;
.line 30
	const/4	v1,0
; v1 : single-length
la76d4:
	iget-object	v3,v2,com/google/analytics/midtier/proto/containertag/TypeSystem$Value.mapKey [Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
; v3 : [Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value; , v2 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
	array-length	v3,v3
; v3 : single-length , v3 : single-length
	if-ge	v1,v3,la7752
; v1 : single-length , v3 : single-length
.line 33
	invoke-static	{},com/google/tagmanager/ResourceUtil$ExpandedFunctionCall/newBuilder	; newBuilder()Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
; 
	nop	
	move-result-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
	sget-object	v4,com/google/analytics/containertag/common/Key.INSTANCE_NAME Lcom/google/analytics/containertag/common/Key;
; v4 : Lcom/google/analytics/containertag/common/Key;
	invoke-virtual	{v4},com/google/analytics/containertag/common/Key/toString	; toString()Ljava/lang/String;
; v4 : Lcom/google/analytics/containertag/common/Key;
	move-result-object	v4
; v4 : Ljava/lang/String;
	iget-object	v5,v2,com/google/analytics/midtier/proto/containertag/TypeSystem$Value.mapKey [Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
; v5 : [Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value; , v2 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
	aget-object	v5,v5,v1
; v5 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value; , v5 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value; , v1 : single-length
	invoke-virtual	{v3,v4,v5},com/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder/addProperty	; addProperty(Ljava/lang/String;Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;)Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder; , v4 : Ljava/lang/String; , v5 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
	move-result-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
	sget-object	v4,com/google/analytics/containertag/common/Key.FUNCTION Lcom/google/analytics/containertag/common/Key;
; v4 : Lcom/google/analytics/containertag/common/Key;
	invoke-virtual	{v4},com/google/analytics/containertag/common/Key/toString	; toString()Ljava/lang/String;
; v4 : Lcom/google/analytics/containertag/common/Key;
	move-result-object	v4
; v4 : Ljava/lang/String;
	invoke-static	{},com/google/tagmanager/ConstantMacro/getFunctionId	; getFunctionId()Ljava/lang/String;
; 
	nop	
	move-result-object	v5
; v5 : Ljava/lang/String;
	invoke-static	{v5},com/google/tagmanager/Types/functionIdToValue	; functionIdToValue(Ljava/lang/String;)Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
; v5 : Ljava/lang/String;
	move-result-object	v5
; v5 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
	invoke-virtual	{v3,v4,v5},com/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder/addProperty	; addProperty(Ljava/lang/String;Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;)Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder; , v4 : Ljava/lang/String; , v5 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
	move-result-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
	invoke-static	{},com/google/tagmanager/ConstantMacro/getValueKey	; getValueKey()Ljava/lang/String;
; 
	nop	
	move-result-object	v4
; v4 : Ljava/lang/String;
	iget-object	v5,v2,com/google/analytics/midtier/proto/containertag/TypeSystem$Value.mapValue [Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
; v5 : [Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value; , v2 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
	aget-object	v5,v5,v1
; v5 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value; , v5 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value; , v1 : single-length
	invoke-virtual	{v3,v4,v5},com/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder/addProperty	; addProperty(Ljava/lang/String;Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;)Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder; , v4 : Ljava/lang/String; , v5 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
	move-result-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
	invoke-virtual	{v3},com/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder/build	; build()Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCall;
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCallBuilder;
	move-result-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCall;
	invoke-virtual	{v0,v3},com/google/tagmanager/ResourceUtil$ExpandedResourceBuilder/addMacro	; addMacro(Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCall;)Lcom/google/tagmanager/ResourceUtil$ExpandedResourceBuilder;
; v0 : Lcom/google/tagmanager/ResourceUtil$ExpandedResourceBuilder; , v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedFunctionCall;
.line 30
	add-int/lit8	v1,v1,1
; v1 : single-length , v1 : single-length
	goto	la76d4
la7752:
.line 40
	invoke-virtual	{v0},com/google/tagmanager/ResourceUtil$ExpandedResourceBuilder/build	; build()Lcom/google/tagmanager/ResourceUtil$ExpandedResource;
; v0 : Lcom/google/tagmanager/ResourceUtil$ExpandedResourceBuilder;
	move-result-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedResource;
	return-object	v3
; v3 : Lcom/google/tagmanager/ResourceUtil$ExpandedResource;
.end method

.method static jsonObjectToObject(Ljava/lang/Object;)Ljava/lang/Object;
.throws Lorg/json/JSONException;
.annotation buildVisibility Lcom/google/android/gms/common/util/VisibleForTesting;
.end annotation
.limit registers 7
; parameter[0] : v6 (Ljava/lang/Object;)
.var 0 is jsonObject Lorg/json/JSONObject; from la77b2 to la77f4
.var 1 is key Ljava/lang/String; from la77dc to la77f4
.var 2 is keys Ljava/util/Iterator; from la77c4 to la77f4
.var 3 is map Ljava/util/Map; from la77bc to la77f4
.line 58
	instance-of	v4,v6,org/json/JSONArray
; v4 : single-length , v6 : Ljava/lang/Object;
	if-eqz	v4,la7784
; v4 : single-length
.line 59
	new-instance	v4,java/lang/RuntimeException
; v4 : Ljava/lang/RuntimeException;
	const-string	v5,"JSONArrays are not supported"
; v5 : Ljava/lang/String;
	invoke-direct	{v4,v5},java/lang/RuntimeException/<init>	; <init>(Ljava/lang/String;)V
; v4 : Ljava/lang/RuntimeException; , v5 : Ljava/lang/String;
	throw	v4
; v4 : Ljava/lang/RuntimeException;
la7784:
.line 60
	sget-object	v4,org/json/JSONObject.NULL Ljava/lang/Object;
; v4 : Ljava/lang/Object;
	invoke-virtual	{v4,v6},java/lang/Object/equals	; equals(Ljava/lang/Object;)Z
; v4 : Ljava/lang/Object; , v6 : Ljava/lang/Object;
	move-result	v4
; v4 : single-length
	if-eqz	v4,la77a4
; v4 : single-length
.line 61
	new-instance	v4,java/lang/RuntimeException
; v4 : Ljava/lang/RuntimeException;
	const-string	v5,"JSON nulls are not supported"
; v5 : Ljava/lang/String;
	invoke-direct	{v4,v5},java/lang/RuntimeException/<init>	; <init>(Ljava/lang/String;)V
; v4 : Ljava/lang/RuntimeException; , v5 : Ljava/lang/String;
	throw	v4
; v4 : Ljava/lang/RuntimeException;
la77a4:
.line 62
	instance-of	v4,v6,org/json/JSONObject
; v4 : single-length , v6 : Ljava/lang/Object;
	if-eqz	v4,la77f4
; v4 : single-length
	move-object	v0,v6
; v0 : Ljava/lang/Object; , v6 : Ljava/lang/Object;
.line 63
	check-cast	v0,org/json/JSONObject
; v0 : Lorg/json/JSONObject;
.line 64
	new-instance	v3,java/util/HashMap
; v3 : Ljava/util/HashMap;
	invoke-direct	{v3},java/util/HashMap/<init>	; <init>()V
; v3 : Ljava/util/HashMap;
.line 66
	invoke-virtual	{v0},org/json/JSONObject/keys	; keys()Ljava/util/Iterator;
; v0 : Lorg/json/JSONObject;
	move-result-object	v2
; v2 : Ljava/util/Iterator;
la77c4:
.line 67
	invoke-interface	{v2},java/util/Iterator/hasNext	; hasNext()Z
; v2 : Ljava/util/Iterator;
	move-result	v4
; v4 : single-length
	if-eqz	v4,la77f6
; v4 : single-length
.line 68
	invoke-interface	{v2},java/util/Iterator/next	; next()Ljava/lang/Object;
; v2 : Ljava/util/Iterator;
	move-result-object	v1
; v1 : Ljava/lang/Object;
	check-cast	v1,java/lang/String
; v1 : Ljava/lang/String;
.line 69
	invoke-virtual	{v0,v1},org/json/JSONObject/get	; get(Ljava/lang/String;)Ljava/lang/Object;
; v0 : Lorg/json/JSONObject; , v1 : Ljava/lang/String;
	move-result-object	v4
; v4 : Ljava/lang/Object;
	invoke-static	{v4},com/google/tagmanager/JsonUtils/jsonObjectToObject	; jsonObjectToObject(Ljava/lang/Object;)Ljava/lang/Object;
; v4 : Ljava/lang/Object;
	move-result-object	v4
; v4 : Ljava/lang/Object;
	invoke-interface	{v3,v1,v4},java/util/Map/put	; put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
; v3 : Ljava/util/HashMap; , v1 : Ljava/lang/String; , v4 : Ljava/lang/Object;
	goto	la77c4
la77f4:
	move-object	v3,v6
; v3 : Ljava/lang/Object; , v6 : Ljava/lang/Object;
la77f6:
.line 74
	return-object	v3
; v3 : Ljava/lang/Object;
.end method

.method private static jsonObjectToValue(Ljava/lang/Object;)Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
.throws Lorg/json/JSONException;
.limit registers 2
; parameter[0] : v1 (Ljava/lang/Object;)
.line 53
	invoke-static	{v1},com/google/tagmanager/JsonUtils/jsonObjectToObject	; jsonObjectToObject(Ljava/lang/Object;)Ljava/lang/Object;
; v1 : Ljava/lang/Object;
	move-result-object	v0
; v0 : Ljava/lang/Object;
	invoke-static	{v0},com/google/tagmanager/Types/objectToValue	; objectToValue(Ljava/lang/Object;)Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
; v0 : Ljava/lang/Object;
	move-result-object	v0
; v0 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
	return-object	v0
; v0 : Lcom/google/analytics/midtier/proto/containertag/TypeSystem$Value;
.end method


